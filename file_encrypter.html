<!DOCTYPE html>
<html>
    <head>
        <title>File Encrypter</title>
        <link rel="stylesheet" href="projectStyle.css">
        <script src="projectScript.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Outfit&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/tokyo-night-dark.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
    </head>
    <body>
        <div id="home">
            <a href="index.html" class="icon" style="position: absolute;z-index: 1;">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#fff" alt="Home">
                    <path d="M 12 2 A 1 1 0 0 0 11.289062 2.296875 L 1.203125 11.097656 A 0.5 0.5 0 0 0 1 11.5 A 0.5 0.5 0 0 
                    0 1.5 12 L 4 12 L 4 20 C 4 20.552 4.448 21 5 21 L 9 21 C 9.552 21 10 20.552 10 20 L 10 14 L 14 14 L 14 20 C 
                    14 20.552 14.448 21 15 21 L 19 21 C 19.552 21 20 20.552 20 20 L 20 12 L 22.5 12 A 0.5 0.5 0 0 0 23 11.5 A 0.5 
                    0.5 0 0 0 22.796875 11.097656 L 12.716797 2.3027344 A 1 1 0 0 0 12.710938 2.296875 A 1 1 0 0 0 12 2 z"></path>
                </svg>
            </a>
            <span id="dot"></span>
        </div>
        <section id="header">
            <div id="titleSection">
                <h1 id="title">File Encrypter</h1>
                <div id="github">
                    <a href="https://github.com/BraDing25/File_Encoder" target="_blank" class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="#ffffff" alt="GitHub">
                            <path d="M10.9,2.1c-4.6,0.5-8.3,4.2-8.8,8.7c-0.5,4.7,2.2,8.9,6.3,10.5C8.7,21.4,9,21.2,9,20.8v-1.6c0,0-0.4,0.1-0.9,
                            0.1 c-1.4,0-2-1.2-2.1-1.9c-0.1-0.4-0.3-0.7-0.6-1C5.1,16.3,5,16.3,5,16.2C5,16,5.3,16,5.4,16c0.6,0,1.1,0.7,1.3,1c0.5,
                            0.8,1.1,1,1.4,1 c0.4,0,0.7-0.1,0.9-0.2c0.1-0.7,0.4-1.4,1-1.8c-2.3-0.5-4-1.8-4-4c0-1.1,0.5-2.2,1.2-3C7.1,8.8,7,8.3,7,
                            7.6C7,7.2,7,6.6,7.3,6 c0,0,1.4,0,2.8,1.3C10.6,7.1,11.3,7,12,7s1.4,0.1,2,0.3C15.3,6,16.8,6,16.8,6C17,6.6,17,7.2,17,7.6c0,
                            0.8-0.1,1.2-0.2,1.4 c0.7,0.8,1.2,1.8,1.2,3c0,2.2-1.7,3.5-4,4c0.6,0.5,1,1.4,1,2.3v2.6c0,0.3,0.3,0.6,0.7,0.5c3.7-1.5,6.3-5.1,
                            6.3-9.3 C22,6.1,16.9,1.4,10.9,2.1z"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </section>
        <section style="height: 170vh;" id="content">
            <br>
            <div>
                <span class="tag" id="python">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 48 48" alt="Python" style="vertical-align: top;">
                        <path fill="#ffffff" d="M24.047,5c-1.555,0.005-2.633,0.142-3.936,0.367c-3.848,0.67-4.549,2.077-4.549,4.67V14h9v2H15.22h-4.35c-2.636,
                        0-4.943,1.242-5.674,4.219c-0.826,3.417-0.863,5.557,0,9.125C5.851,32.005,7.294,34,9.931,34h3.632v-5.104c0-2.966,2.686-5.896,5.764-5.896h7.236c2.523,
                        0,5-1.862,5-4.377v-8.586c0-2.439-1.759-4.263-4.218-4.672C27.406,5.359,25.589,4.994,24.047,5z M19.063,9c0.821,0,1.5,0.677,1.5,1.502c0,0.833-0.679,
                        1.498-1.5,1.498c-0.837,0-1.5-0.664-1.5-1.498C17.563,9.68,18.226,9,19.063,9z"></path>
                        <path fill="#ffffff" d="M23.078,43c1.555-0.005,2.633-0.142,3.936-0.367c3.848-0.67,4.549-2.077,4.549-4.67V34h-9v-2h9.343h4.35c2.636,0,
                        4.943-1.242,5.674-4.219c0.826-3.417,0.863-5.557,0-9.125C41.274,15.995,39.831,14,37.194,14h-3.632v5.104c0,2.966-2.686,5.896-5.764,
                        5.896h-7.236c-2.523,0-5,1.862-5,4.377v8.586c0,2.439,1.759,4.263,4.218,4.672C19.719,42.641,21.536,43.006,23.078,43z M28.063,39c-0.821,
                        0-1.5-0.677-1.5-1.502c0-0.833,0.679-1.498,1.5-1.498c0.837,0,1.5,0.664,1.5,1.498C29.563,38.32,28.899,39,28.063,39z"></path>
                    </svg>
                    Python
                </span>
            </div>
            <div>
                <h2>Packages</h2>
                <span><code>random, zlib, base64, json, os, pandas, customtkinter, Image</code></span>
            </div>
            <div>
                <h2>How It Works</h2>
                <p>To start, the program utilizes <code>customtkinter</code> for the UI, so most of the code is the setup and configuration
                    of the UI elements. The program works by reading a file opened by the user in small chunks and automatically detecting whether
                    it should be encoded or decoded. Next it generates a randomized key by making a dictionary for every unique unicode
                    character in the file with <code>n</code> padding and then compressing it. The encrypting process starts by storing the 
                    filetype, length of the dictionary, the padding length, and the actual key. It then encodes it to a hexadecimal format
                    for an added layer of security. Next it reads the file in chunks and encodes it. The decryption process is the same
                    but in reverse.
                </p>
                <br>
                <p>The first section of the program itself first initializes the UI widgets in the following sections; the main window, fonts, images, 
                    the left panel, and the right panel.
                </p>
                <br>
                <div class="parBlock">
                    <p>The next section of the program is the processing functions. The first two functions compress and decompress the 
                        dictionary key by converting it to a <code>json</code> string, then compressing the bytes, then encoding said bytes.
                        The next function* goes character by character through the given file section and finds every unique unicode character, 
                        the max unicode character, sets the padding length, and dictionary length, all of which will be used to make the key. 
                        The next two functions are the actual encoding and decoding functions. It encodes by going through every character, 
                        converting it to its unicode counterpart, then matching the character to the randomized key. The final two functions 
                        convert every character from a string to its hexadecimal representation.
                    </p>
                    <div>
                        <span><p class="desc">*The third function</p></span>
                        <pre><code>#Reads line to determine how large the cipher needs to be based on unicode characters
def lineKey(string): 
    global pad, maxUni, dicLen, unique
    for i in string:
        x = ord(i)
        if x not in unique: #Adds every unique unicode character to key
            unique.append(x)
        if x > maxUni: #Finds max unicode character
            maxUni = x
    unique.sort()

    pad = len(str(maxUni))
    dicLen = len(unique)
    keyLen.configure(text=str(dicLen))
    maxUL.configure(text=str(maxUni))</code></pre>
                    </div>
                </div>
                <br>
                <br>
                <div class="parBlock">
                    <p>The third section of the program focuses on the UI functions. The first function reads an input and finds
                        key words/phrases to determine whether the file should be encrypted or decrypted. The next function
                        opens a file dialog to select a file, then reads the file in chunks and encrypts/decrypts it. Next, this
                        function downloads the encrypted/decrypted data to a file. That file is either a <code>.txt</code> file if
                        it is encrypted, or the original file format if it is decrypted. The last two functions are simply for the
                        window, one to change from dark/light mode, and the other to open a <span style="font-style: italic;">"Help Me"</span> window.
                        <br>
                        <br>
                        The last section simply places the UI widgets in their respective places and sets the main loop.
                    </p>
                    <div>
                        <span><p class="desc">File reading portion of <code>openFile()</code> function</p></span>
                        <pre><code>with open(filePath,mode="r", encoding="utf-8") as file:
    first = True
    while True:
        chunk = file.read(10240) #Reads file in 10kb chunks to save memory
        if not chunk:
            break
        lineKey(chunk)
        if first:
            modeSelect(chunk)
            first = False

    if selection.get() == "     Encode     ":
        rand = random.sample(range(maxUni),len(unique))
        rand = list(map(lambda x:str(x).zfill(pad),rand))
        dicKey = dict(zip(unique,rand)) #Creates a dictionary to match characters
        compressed = compress(dicKey)

        data = fileType.zfill(10) + str(len(compressed)).zfill(8) + str(pad) + compressed
        data = encodeHex(data) #Encode information

        while True:
            chunk = file.read(10240)
            if not chunk:
                break
            data += encode(chunk)
        textPreview.configure(text = str(data))
        downData = data
    else:
        data = decode(data)
        textPreview.configure(text = data)
        downData = data</code></pre>
                    </div>
                </div>
                <br>
            </div>
        </section>
    </body>
</html>